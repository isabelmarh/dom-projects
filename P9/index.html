<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Golden Ratio</title>
</head>

<body id="body">
    <script>
        function createGoldenRectangle(id, parentId, dimension) {
            var div = document.createElement("div")
            div.setAttribute("id", "div")
            var element = document.getElementsByTagName(parentId)[0];
            var width = 0
            var height = 0
            console.log(element)
            console.log(window.getComputedStyle(element))

            if (!window.getComputedStyle(element).getPropertyValue("width") || window.getComputedStyle(element).getPropertyValue("height")) {
                height = dimension / 1.62
                width = dimension
            } else {
                if ((parseInt(element.style.width) > parseInt(element.style.height))) {
                    height = dimension
                    width = dimension / 1.62
                } else {
                    height = dimension / 1.62
                    width = dimension
                }
            }
           
            element.appendChild(div);
            document.getElementsByTagName(id)[0].style.width = width;
            document.getElementsByTagName(id)[0].style.height = height;
            document.getElementsByTagName(id)[0].style.backgroundColor = getRandomColor();
            if (width > 10) {
                if (width > height) {
                    createGoldenRectangle("head" + Math.random(), id, height);
                } else {
                    createGoldenRectangle("body" + Math.random(), id, width);
                }
            }
        }
        createGoldenRectangle("head", "body", 9000);

        function getRandomColor() {
            var letters = '0123456789ABCDEF';
            var color = '#';
            for (var i = 0; i < 6; i++) {
                color += letters[Math.floor(Math.random() * 16)];
            }
            return color;
        }
    </script>
</body>

</html>